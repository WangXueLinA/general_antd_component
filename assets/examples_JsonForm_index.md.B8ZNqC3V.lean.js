import{M as S,B as q,I as T,T as R,Q as O,d as w,F as N,U as J,D as V}from"./chunks/theme.D7IBF2v3.js";import{au as I,f as u,l as h,aa as y,S as v,X as m,k,u as _,F as f,c as g,r as D,Y as x,a4 as F,Z as b,G as o,as as M,w as P,_ as $,$ as G,aL as A}from"./chunks/framework.BrhAmV34.js";const Y={__name:"Demo",setup(C){const[a,n]=S.useModal(),p=I("formRef"),s=u({projectNum:1,toPdt:"beijing",switch:!0,projectStatus:"doing"}),l={projectName:[{required:!0,message:"请输入项目名称"}],toPdt:[{required:!0,message:"请选择地区"}]},r=u([{label:"项目名称",field:"projectName",el:"Input",placeholder:"输入项目名称"},{label:"项目描述",field:"projectDesc",el:"Textarea",placeholder:"输入项目描述"},{label:"项目数量",field:"projectNum",el:"InputNumber",placeholder:"输入项目数量",min:1,max:100,style:{width:"30%"}},{label:"地区",field:"toPdt",el:"Select",placeholder:"请选择地区",options:[{label:"北京",value:"beijing"},{label:"上海",value:"shanghai"},{label:"广州",value:"guangzhou"}]},{label:"级联",field:"cascader",el:"Cascader",placeholder:"请选择级联",options:[{value:"zhejiang",label:"浙江",children:[{value:"hangzhou",label:"杭州",children:[{value:"xihu",label:"西湖"}]}]},{value:"jiangsu",label:"江苏",children:[{value:"nanjing",label:"南京",children:[{value:"zhonghuamen",label:"中华门"}]}]}]},{label:"节点",field:"node",el:"TreeSelect",placeholder:"请选择节点",treeDefaultExpandAll:!0,treeNodeFilterProp:"label",options:[{label:"root 1",value:"root 1",children:[{label:"parent 1",value:"parent 1",children:[{label:"parent 1-0",value:"parent 1-0",children:[{label:"my leaf",value:"leaf1"},{label:"your leaf",value:"leaf2"}]},{label:"parent 1-1",value:"parent 1-1"}]},{label:"parent 2",value:"parent 2"}]}]},{label:"项目状态",field:"projectStatus",el:"RadioGroup",options:[{label:"进行中",value:"doing"},{label:"已完成",value:"done"},{label:"已取消",value:"cancel"}]},{label:"项目类型",field:"projectType",el:"CheckboxGroup",options:[{label:"服务",value:"service"},{label:"咨询",value:"consulting"}]},{label:"时间",field:"date",el:"RangePicker"},{label:"开关",field:"switch",el:"Switch"},{label:"同意条款",field:"checkbox",el:"Checkbox"},{label:"radio",field:"radio",el:"Radio"},{label:"",field:"",style:{textAlign:"center"},el:h("div",[h(q,{type:"primary",onClick:async()=>{var i;await((i=p.value)==null?void 0:i.validateFields()),a.success({title:"提交参数",content:h("div",Object.entries(s.value).map(([e,E])=>h("div",`${e}: ${E}`)))})}},"提交"),h(q,{style:{marginLeft:"10px"},onClick:()=>{var i;(i=p.value)==null||i.resetFields()}},"重置")])}]);return(i,e)=>{const E=y("JsonForm");return m(),v(f,null,[k(E,{columns:r.value,labelCol:{style:{width:"100px"}},rules:l,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value=d),ref_key:"formRef",ref:p},null,8,["columns","modelValue"]),k(_(n))],64)}}},z={__name:"Demo1",setup(C){const[a,n]=S.useModal(),p=I("formRef"),s=u({}),l=[{label:"项目名称",field:"projectName",el:h(T),placeholder:"输入项目名称"},{label:h("span",[h("span","版本号"),h(R,{title:"输入多个版本号",getPopupContainer:()=>document.body,color:"blue"},h(O,{style:{color:"blue"}}))]),field:"toVersion",el:h("div",[h(T,{style:{width:"100%"},placeholder:"请输入版本号",value:g(()=>s.value.toVersion),onChange:r=>{s.value.toVersion=r.target.value||void 0}})])},{label:"",field:"",style:{textAlign:"center"},el:h("div",h(q,{type:"primary",onClick:async()=>{var r;await((r=p.value)==null?void 0:r.validateFields()),a.success({title:"提交参数",content:h("div",Object.entries(s.value).map(([i,e])=>h("div",`${i}: ${e}`)))})}},"提交"))}];return(r,i)=>{const e=y("JsonForm");return m(),v(f,null,[k(e,{columns:l,labelCol:{style:{width:"100px"}},modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=E=>s.value=E),ref_key:"formRef",ref:p},null,8,["modelValue"]),k(_(n))],64)}}},U={__name:"Demo2",setup(C){const a=u({}),n=D([{label:"项目地址",field:"name",el:"Select",placeholder:"请选择项目名称",getOptions:()=>Promise.resolve([{label:"项目1",value:"project1"},{label:"项目2",value:"project2"},{label:"项目3",value:"project3"}])},{label:"爱好",field:"hobby",el:"CheckboxGroup",getOptions:()=>Promise.resolve([{name:"吃饭",key:"eat"},{name:"睡觉",key:"sleep"},{name:"打游戏",key:"game"}]).then(p=>p.map(s=>({label:s.name,value:s.key})))},{label:"性别",field:"sex",el:"RadioGroup",value:g(()=>a.value.sex||"female"),onChange:p=>{a.value.sex=p.target.value},getOptions:()=>Promise.resolve([{name:"男",value:"male"},{name:"女",value:"female"}]).then(p=>p.map(s=>({...s,label:s.name})))},{label:"节点",field:"node",placeholder:"请选择节点",el:"TreeSelect",treeDefaultExpandAll:!0,treeNodeFilterProp:"label",getOptions:()=>Promise.resolve([{name:"root 1",value:"root 1",children:[{name:"parent 1",value:"parent 1",children:[{name:"parent 1-0",value:"parent 1-0",children:[{name:"my leaf",value:"leaf1"},{name:"your leaf",value:"leaf2"}]},{name:"parent 1-1",value:"parent 1-1"}]},{name:"parent 2",value:"parent 2"}]}]).then(p=>p.map(function s(l){return l.children&&(l.children=l.children.map(s)),{label:l.name,value:l.value,children:l.children}}))},{label:"级联",field:"cascader",el:"Cascader",placeholder:"请选择级联",getOptions:()=>Promise.resolve([{label:"浙江",value:"zhejiang",children:[{label:"杭州",value:"hangzhou"}]},{label:"江苏",value:"jiangsu",children:[{label:"南京",value:"nanjing"}]}])}]);return(p,s)=>{const l=y("JsonForm");return m(),x(l,{columns:n,labelCol:{style:{width:"100px"}},modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=r=>a.value=r)},null,8,["columns","modelValue"])}}},H={style:{"margin-bottom":"40px"}},L={style:{margin:"0 20px"}},Q={__name:"Demo3",setup(C){const a=u("horizontal"),n=u(!1),p=u(1),s=g(()=>Number(24/p.value)),l=[{label:"项目名称",field:"projectName",el:"Input",placeholder:"输入项目名称"},{label:"项目描述",field:"projectDesc",el:"Textarea",placeholder:"输入项目描述"},{label:"项目状态",field:"projectStatus",el:"Select",placeholder:"选择项目状态",options:[{label:"进行中",value:"进行中"},{label:"已完成",value:"已完成"},{label:"已取消",value:"已取消"}]},{label:"项目负责人",field:"projectLeader",el:"Select",placeholder:"选择项目负责人",options:[{label:"张三",value:"张三"},{label:"李四",value:"李四"},{label:"王五",value:"王五"}]},{label:"开始日期",field:"startDate",el:"DatePicker",placeholder:"选择开始日期"},{label:"结束日期",field:"endDate",el:"DatePicker",placeholder:"选择结束日期"}];return(r,i)=>{const e=y("a-radio-button"),E=y("a-radio-group"),d=y("a-switch"),t=y("JsonForm");return m(),v(f,null,[F("div",H,[k(E,{value:a.value,"onUpdate:value":i[0]||(i[0]=c=>a.value=c),"button-style":"solid"},{default:b(()=>[k(e,{value:"horizontal"},{default:b(()=>i[3]||(i[3]=[o("Horizontal",-1)])),_:1,__:[3]}),k(e,{value:"vertical"},{default:b(()=>i[4]||(i[4]=[o("Vertical",-1)])),_:1,__:[4]}),k(e,{value:"inline"},{default:b(()=>i[5]||(i[5]=[o("Inline",-1)])),_:1,__:[5]})]),_:1},8,["value"]),F("span",L,[i[6]||(i[6]=o("禁用: ",-1)),k(d,{checked:n.value,"onUpdate:checked":i[1]||(i[1]=c=>n.value=c)},null,8,["checked"])]),k(E,{value:p.value,"onUpdate:value":i[2]||(i[2]=c=>p.value=c),"button-style":"solid"},{default:b(()=>[k(e,{value:1},{default:b(()=>i[7]||(i[7]=[o("1列",-1)])),_:1,__:[7]}),k(e,{value:2},{default:b(()=>i[8]||(i[8]=[o("2列",-1)])),_:1,__:[8]}),k(e,{value:3},{default:b(()=>i[9]||(i[9]=[o("3列",-1)])),_:1,__:[9]})]),_:1},8,["value"])]),k(t,{columns:l,labelCol:{style:{width:"100px"}},disabled:n.value,layout:a.value,span:s.value},null,8,["disabled","layout","span"])],64)}}},X={style:{"margin-bottom":"40px"}},Z={__name:"Demo4",setup(C){const a=u(!0),n=u({projectName:"项目名称",projectDesc:"项目描述",projectNums:1,toPdt:["beijing","shanghai"],node:"root 1",projectStatus:"cancel",projectType:["service"],switch:!0,checkbox:!0,date:w("2022-01-01","YYYY-MM-DD"),time:[w("2022-02-02","YYYY-MM-DD"),w("2022-03-03","YYYY-MM-DD")]}),p=D([{label:"Input",field:"projectName",el:g(()=>a.value?"Input":"Text"),placeholder:"输入项目名称"},{label:"Textarea",field:"projectDesc",el:g(()=>a.value?"Textarea":"Text"),placeholder:"输入项目描述"},{label:"InputNumber",field:"projectNums",el:g(()=>a.value?"InputNumber":"Text"),placeholder:"输入项目描述"},{label:"Select",field:"toPdt",el:g(()=>a.value?"Select":"Text"),placeholder:"请选择地区",mode:"multiple",options:[{label:"北京",value:"beijing"},{label:"上海",value:"shanghai"},{label:"广州",value:"guangzhou"}]},{label:"TreeSelect",field:"node",el:g(()=>a.value?"TreeSelect":"Text"),placeholder:"请选择节点",treeDefaultExpandAll:!0,treeNodeFilterProp:"label",options:[{label:"root 1",value:"root 1",children:[{label:"parent 1",value:"parent 1",children:[{label:"parent 1-1",value:"parent 1-1"}]},{label:"parent 2",value:"parent 2"}]}]},{label:"RadioGroup",field:"projectStatus",el:g(()=>a.value?"RadioGroup":"Text"),options:[{label:"进行中",value:"doing"},{label:"已完成",value:"done"},{label:"已取消",value:"cancel"}]},{label:"CheckboxGroup",field:"projectType",el:g(()=>a.value?"CheckboxGroup":"Text"),options:[{label:"服务",value:"service"},{label:"咨询",value:"consulting"}]},{label:"Switch",field:"switch",el:g(()=>a.value?"Switch":"Text")},{label:"Checkbox",field:"checkbox",el:g(()=>a.value?"Checkbox":"Text")},{label:"DatePicker",field:"date",el:g(()=>a.value?"DatePicker":"Time")},{label:"RangePicker",field:"time",el:g(()=>a.value?"RangePicker":"Time")}]);return(s,l)=>{const r=y("a-switch"),i=y("JsonForm");return m(),v(f,null,[F("div",X,[k(r,{checked:a.value,"onUpdate:checked":l[0]||(l[0]=e=>a.value=e),"checked-children":"编辑","un-checked-children":"详情"},null,8,["checked"])]),k(i,{columns:p,labelCol:{style:{width:"120px"}},modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value=e)},null,8,["columns","modelValue"])],64)}}},K={__name:"table",props:{value:{type:Array,default:()=>[]},isEdit:{type:Boolean,default:!0}},setup(C){const a=N.useInjectFormItemContext(),n=C,p=M(n,"value"),s=D([]),l=u(!0);P(()=>n.value,E=>{s.length=0,(E||[]).forEach((d,t)=>{s.push({key:`${t+1}`,city:d.city||"",phone:d.phone||""})})},{immediate:!0,deep:!0}),P(()=>n.isEdit,E=>{l.value=E});const r=()=>{s.push({key:`${s.length+1}`,city:"",phone:""}),p.value=JSON.parse(JSON.stringify(s)),a.onFieldChange()},i=(E,d,t)=>{s[t]&&(s[t][E]=d,p.value=JSON.parse(JSON.stringify(s)),a.onFieldChange())},e=D([{title:"地址",dataIndex:"city",width:190,customRender:({_:E,record:d,index:t})=>{var c,B;return l.value?h(N.Item,{name:["address",t,"city"],rules:[{required:!0,message:"请输入地址"}]},h(T,{placeholder:"请输入地址",value:((c=s[t])==null?void 0:c.city)||"",onChange:j=>i("city",j.target.value,t)})):h("span",((B=s[t])==null?void 0:B.city)||"")}},{title:"手机号",dataIndex:"phone",width:190,customRender:({_:E,record:d,index:t})=>{var c,B;return l.value?h(N.Item,{name:["address",t,"phone"],rules:[{required:!0,message:"请输入手机号"}]},h(T,{placeholder:"请输入手机号",value:((c=s[t])==null?void 0:c.phone)||"",onChange:j=>i("phone",j.target.value,t)})):h("span",((B=s[t])==null?void 0:B.phone)||"")}},{title:"操作",dataIndex:"action",width:190,customRender:({_:E,record:d,index:t})=>l.value?h("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{s.splice(t,1).forEach((c,B)=>s[B].key=`${B+1}`),p.value=JSON.parse(JSON.stringify(s)),a.onFieldChange()}},"删除"):h("span","--")}]);return(E,d)=>{const t=y("a-table"),c=y("a-button");return m(),v(f,null,[k(t,{columns:e,"data-source":s,pagination:!1},null,8,["columns","data-source"]),l.value?(m(),x(c,{key:0,danger:"",style:{width:"100%"},onClick:r},{default:b(()=>d[0]||(d[0]=[o("添加一行",-1)])),_:1,__:[0]})):$("",!0)],64)}}},W={style:{"margin-bottom":"40px"}},ss={__name:"Demo5",setup(C){const[a,n]=S.useModal(),p=I("formRef"),s=u(!0),l=D({address:[{city:"中国",phone:"12345678901"}]}),r=D([{label:"姓名",field:"projectName",el:g(()=>s.value?"Input":"Text"),placeholder:"请输入姓名",span:12},{label:"手机号",field:"projectNo",el:g(()=>s.value?"Input":"Text"),placeholder:"请输入手机号",span:12},{label:"地址",field:"address",el:h(K),isEdit:s},{label:"",field:"",isShow:s,style:{textAlign:"center"},el:h("div",h(q,{type:"primary",onClick:async()=>{var i;await((i=p.value)==null?void 0:i.validateFields()),a.success({title:"提交参数",content:h("div",Object.entries(l).map(([e,E])=>h("div",`${e}: ${JSON.stringify(E)}`)))})}},"提交"))}]);return(i,e)=>{const E=y("a-switch"),d=y("JsonForm");return m(),v(f,null,[F("div",W,[k(E,{checked:s.value,"onUpdate:checked":e[0]||(e[0]=t=>s.value=t),"checked-children":"编辑","un-checked-children":"详情"},null,8,["checked"])]),k(d,{columns:r,labelCol:{style:{width:"70px"}},modelValue:l,"onUpdate:modelValue":e[1]||(e[1]=t=>l=t),ref_key:"formRef",ref:p},null,8,["columns","modelValue"]),k(_(n))],64)}}},is={style:{"margin-top":"15px"}},as={__name:"Demo6",setup(C){const a=u(!1),n=D([{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"},{label:"姓名",field:"projectName",el:"Input",placeholder:"请输入姓名"}]);return(p,s)=>{const l=y("a-button"),r=y("JsonForm");return m(),x(r,{columns:n.slice(0,a.value?n.length:6),labelCol:{style:{width:"40px"}},wrapperCol:{style:{width:"100px"}},layout:"inline",class:"search-form",span:8},{default:b(()=>[F("div",is,[k(l,{type:"primary"},{default:b(()=>s[1]||(s[1]=[o("查询",-1)])),_:1,__:[1]}),k(l,{style:{margin:"0 8px"}},{default:b(()=>s[2]||(s[2]=[o("重置",-1)])),_:1,__:[2]}),F("a",{style:{"font-size":"12px"},onClick:s[0]||(s[0]=i=>a.value=!a.value)},[a.value?(m(),x(_(J),{key:0})):(m(),x(_(V),{key:1})),s[3]||(s[3]=o(" 高级搜索 ",-1))])])]),_:1},8,["columns"])}}},ns=G(as,[["__scopeId","data-v-7744ebac"]]),ls={style:{border:"1px solid #eee",padding:"20px"}},ps={style:{border:"1px solid #eee",padding:"20px"}},hs={style:{border:"1px solid #eee",padding:"20px"}},ks={style:{border:"1px solid #eee",padding:"20px"}},es={style:{border:"1px solid #eee",padding:"20px"}},ts={style:{border:"1px solid #eee",padding:"20px"}},Es={style:{border:"1px solid #eee",padding:"20px"}},ys=JSON.parse('{"title":"JsonForm： 表单","description":"","frontmatter":{},"headers":[],"relativePath":"examples/JsonForm/index.md","filePath":"examples/JsonForm/index.md","lastUpdated":1757061777000}'),rs={name:"examples/JsonForm/index.md"},cs=Object.assign(rs,{setup(C){return(a,n)=>(m(),v("div",null,[n[0]||(n[0]=A("",6)),F("div",ls,[k(Y)]),n[1]||(n[1]=A("",3)),F("div",ps,[k(z)]),n[2]||(n[2]=A("",3)),F("div",hs,[k(U)]),n[3]||(n[3]=A("",3)),F("div",ks,[k(Z)]),n[4]||(n[4]=A("",2)),F("div",es,[k(ss)]),n[5]||(n[5]=A("",2)),F("div",ts,[k(ns)]),n[6]||(n[6]=A("",2)),F("div",Es,[k(Q)]),n[7]||(n[7]=A("",8))]))}});export{ys as __pageData,cs as default};
